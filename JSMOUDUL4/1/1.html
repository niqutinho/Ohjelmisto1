<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV Series Search</title>
</head>
<body>
    <h1>TV Series Search</h1>

    <form id="searchForm">
        <input id="query" name="q" type="text" placeholder="Enter TV series name">
        <input type="submit" value="Search">
    </form>

    <script>
        const form = document.getElementById('searchForm');
        const input = document.getElementById('query');

        form.addEventListener('submit', async (e) => {
            e.preventDefault(); // Prevent normal form submission

            const query = input.value.trim();
            if (!query) {
                console.log('Please enter a TV series name');
                return;
            }

            try {
                const response = await fetch(`https://api.tvmaze.com/search/shows?q=${encodeURIComponent(query)}`);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.json();
                console.clear();
                console.log(data); // Full JSON

                data.forEach(item => {
                    console.log('Title:', item.show.name);
                    console.log('Genres:', item.show.genres.join(', ') || 'N/A');
                    console.log('Summary:', item.show.summary ? item.show.summary.replace(/<[^>]+>/g, '') : 'N/A');
                    console.log('---');
                });
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        });
    </script>
</body>
</html>
